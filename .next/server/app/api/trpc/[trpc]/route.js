(()=>{var a={};a.id=841,a.ids=[841],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32373:(a,b,c)=>{"use strict";let d;c.r(b),c.d(b,{handler:()=>fe,patchFetch:()=>fd,routeModule:()=>e9,serverHooks:()=>fc,workAsyncStorage:()=>fa,workUnitAsyncStorage:()=>fb});var e,f,g,h,i,j={};c.r(j),c.d(j,{GET:()=>e8,POST:()=>e8});var k=c(96559),l=c(48088),m=c(37719),n=c(26191),o=c(81289),p=c(261),q=c(92603),r=c(39893),s=c(14823),t=c(47220),u=c(66946),v=c(47912),w=c(99786),x=c(46143),y=c(86439),z=c(43365);let A={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,PAYMENT_REQUIRED:-32002,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},B={[-32700]:"PARSE_ERROR",[-32600]:"BAD_REQUEST",[-32603]:"INTERNAL_SERVER_ERROR",[-32001]:"UNAUTHORIZED",[-32002]:"PAYMENT_REQUIRED",[-32003]:"FORBIDDEN",[-32004]:"NOT_FOUND",[-32005]:"METHOD_NOT_SUPPORTED",[-32008]:"TIMEOUT",[-32009]:"CONFLICT",[-32012]:"PRECONDITION_FAILED",[-32013]:"PAYLOAD_TOO_LARGE",[-32015]:"UNSUPPORTED_MEDIA_TYPE",[-32022]:"UNPROCESSABLE_CONTENT",[-32029]:"TOO_MANY_REQUESTS",[-32099]:"CLIENT_CLOSED_REQUEST"};function C(a,...b){let c=Object.assign(Object.create(null),a);for(let a of b)for(let b in a){if(b in c&&c[b]!==a[b])throw Error(`Duplicate key ${b}`);c[b]=a[b]}return c}function D(a){return!!a&&!Array.isArray(a)&&"object"==typeof a}function E(a){return"function"==typeof a}function F(a){return Object.assign(Object.create(null),a)}A.BAD_GATEWAY,A.SERVICE_UNAVAILABLE,A.GATEWAY_TIMEOUT,A.INTERNAL_SERVER_ERROR;let G="function"==typeof Symbol&&!!Symbol.asyncIterator;function H(a){return G&&D(a)&&Symbol.asyncIterator in a}let I=a=>a();function J(a){return a}var K=Object.create,L=Object.defineProperty,M=Object.getOwnPropertyDescriptor,N=Object.getOwnPropertyNames,O=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,Q=(a,b)=>function(){return b||(0,a[N(a)[0]])((b={exports:{}}).exports,b),b.exports},R=(a,b,c)=>(c=null!=a?K(O(a)):{},((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(var e,f=N(b),g=0,h=f.length;g<h;g++)e=f[g],P.call(a,e)||e===c||L(a,e,{get:(a=>b[a]).bind(null,e),enumerable:!(d=M(b,e))||d.enumerable});return a})(!b&&a&&a.__esModule?c:L(c,"default",{value:a,enumerable:!0}),a));let S=()=>{},T=a=>{Object.freeze&&Object.freeze(a)},U={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function V(a){var b;return null!=(b=U[a])?b:500}var W=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(a,b){function c(a){return b.exports=c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b.exports.__esModule=!0,b.exports.default=b.exports,c(a)}b.exports=c,b.exports.__esModule=!0,b.exports.default=b.exports}}),X=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(a,b){var c=W().default;b.exports=function(a,b){if("object"!=c(a)||!a)return a;var d=a[Symbol.toPrimitive];if(void 0!==d){var e=d.call(a,b||"default");if("object"!=c(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)},b.exports.__esModule=!0,b.exports.default=b.exports}}),Y=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(a,b){var c=W().default,d=X();b.exports=function(a){var b=d(a,"string");return"symbol"==c(b)?b:b+""},b.exports.__esModule=!0,b.exports.default=b.exports}}),Z=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(a,b){var c=Y();b.exports=function(a,b,d){return(b=c(b))in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d,a},b.exports.__esModule=!0,b.exports.default=b.exports}}),$=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(a,b){var c=Z();function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}b.exports=function(a){for(var b=1;b<arguments.length;b++){var e=null!=arguments[b]?arguments[b]:{};b%2?d(Object(e),!0).forEach(function(b){c(a,b,e[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(e,b))})}return a},b.exports.__esModule=!0,b.exports.default=b.exports}}),_=R($(),1);function aa(a){let{path:b,error:c,config:d}=a,{code:e}=a.error,f={message:c.message,code:A[e],data:{code:e,httpStatus:V(c.code)}};return d.isDev&&"string"==typeof a.error.stack&&(f.data.stack=a.error.stack),"string"==typeof b&&(f.data.path=b),d.errorFormatter((0,_.default)((0,_.default)({},a),{},{shape:f}))}let ab=({shape:a})=>a;var ac=R(Z(),1),ad=class extends Error{};function ae(a){if(a instanceof af||a instanceof Error&&"TRPCError"===a.name)return a;let b=new af({code:"INTERNAL_SERVER_ERROR",cause:a});return a instanceof Error&&a.stack&&(b.stack=a.stack),b}var af=class extends Error{constructor(a){var b,c;let d=function(a){if(a instanceof Error)return a;let b=typeof a;if("undefined"!==b&&"function"!==b&&null!==a){if("object"!==b)return Error(String(a));if(D(a))return Object.assign(new ad,a)}}(a.cause);super(null!=(b=null!=(c=a.message)?c:null==d?void 0:d.message)?b:a.code,{cause:d}),(0,ac.default)(this,"cause",void 0),(0,ac.default)(this,"code",void 0),this.code=a.code,this.name="TRPCError",null!=this.cause||(this.cause=d)}},ag=R($(),1);let ah={input:{serialize:a=>a,deserialize:a=>a},output:{serialize:a=>a,deserialize:a=>a}};function ai(a,b){return"error"in b?(0,ag.default)((0,ag.default)({},b),{},{error:a.transformer.output.serialize(b.error)}):"data"in b.result?(0,ag.default)((0,ag.default)({},b),{},{result:(0,ag.default)((0,ag.default)({},b.result),{},{data:a.transformer.output.serialize(b.result.data)})}):b}function aj(a,b){return Array.isArray(b)?b.map(b=>ai(a,b)):ai(a,b)}var ak=R($(),1);let al={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:ab,transformer:ah},am=["then","call","apply"];function an(a){return function(b){let c=new Set(Object.keys(b).filter(a=>am.includes(a)));if(c.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(c).join(", "));let d=F({}),e=F({}),f=function a(b,c=[]){let f=F({});for(let[g,h]of Object.entries(null!=b?b:{})){if("function"==typeof h&&"lazyMarker"in h){e[[...c,g].join(".")]=function b(c){return{ref:c.ref,load:function(a){let b=Symbol(),c=b;return()=>(c===b&&(c=a()),c)}(async()=>{let d=await c.ref(),f=[...c.path,c.key],g=f.join(".");for(let[h,i]of(c.aggregate[c.key]=a(d._def.record,f),delete e[g],Object.entries(d._def.lazy)))e[[...f,h].join(".")]=b({ref:i.ref,path:f,key:h,aggregate:c.aggregate[c.key]})})}}({path:c,ref:h,key:g,aggregate:f});continue}if(D(h)&&D(h._def)&&"router"in h._def){f[g]=a(h._def.record,[...c,g]);continue}if("function"!=typeof h){f[g]=a(h,[...c,g]);continue}let b=[...c,g].join(".");if(d[b])throw Error(`Duplicate key: ${b}`);d[b]=h,f[g]=h}return f}(b),g=(0,ak.default)((0,ak.default)({_config:a,router:!0,procedures:d,lazy:e},al),{},{record:f});return(0,ak.default)((0,ak.default)({},f),{},{_def:g,createCaller:ap()({_def:g})})}}async function ao(a,b){let{_def:c}=a,d=c.procedures[b];for(;!d;){let a=Object.keys(c.lazy).find(a=>b.startsWith(a));if(!a)return null;let e=c.lazy[a];await e.load(),d=c.procedures[b]}return d}function ap(){return function(a){let{_def:b}=a;return function(c,d){return function a(b,c,d){let e=c.join(".");return null!=d[e]||(d[e]=new Proxy(S,{get(e,f){if("string"==typeof f&&"then"!==f)return a(b,[...c,f],d)},apply(a,d,e){let f=c[c.length-1],g={args:e,path:c};return"call"===f?g={args:e.length>=2?[e[1]]:[],path:c.slice(0,-1)}:"apply"===f&&(g={args:e.length>=2?e[1]:[],path:c.slice(0,-1)}),T(g.args),T(g.path),b(g)}})),d[e]}(async({path:e,args:f})=>{let g,h=e.join(".");if(1===e.length&&"_def"===e[0])return b;let i=await ao(a,h);try{if(!i)throw new af({code:"NOT_FOUND",message:`No procedure found on path "${e}"`});return g=E(c)?await Promise.resolve(c()):c,await i({path:h,getRawInput:async()=>f[0],ctx:g,type:i._def.type,signal:null==d?void 0:d.signal})}catch(a){var j,k;throw null==d||null==(j=d.onError)||j.call(d,{ctx:g,error:ae(a),input:f[0],path:h,type:null!=(k=null==i?void 0:i._def.type)?k:"unknown"}),a}},[],Object.create(null))}}}function aq(...a){var b;let c=C({},...a.map(a=>a._def.record));return an({errorFormatter:a.reduce((a,b)=>{if(b._def._config.errorFormatter&&b._def._config.errorFormatter!==ab){if(a!==ab&&a!==b._def._config.errorFormatter)throw Error("You seem to have several error formatters");return b._def._config.errorFormatter}return a},ab),transformer:a.reduce((a,b)=>{if(b._def._config.transformer&&b._def._config.transformer!==ah){if(a!==ah&&a!==b._def._config.transformer)throw Error("You seem to have several transformers");return b._def._config.transformer}return a},ah),isDev:a.every(a=>a._def._config.isDev),allowOutsideOfServer:a.every(a=>a._def._config.allowOutsideOfServer),isServer:a.every(a=>a._def._config.isServer),$types:null==(b=a[0])?void 0:b._def._config.$types})(c)}let ar=Symbol();function as(a){return"object"==typeof a&&null!==a&&"subscribe"in a}function at(a,b){let c=(function(a,b){let c=null,d=()=>{null==c||c.unsubscribe(),c=null,b.removeEventListener("abort",d)};return new ReadableStream({start(e){c=a.subscribe({next(a){e.enqueue({ok:!0,value:a})},error(a){e.enqueue({ok:!1,error:a}),e.close()},complete(){e.close()}}),b.aborted?d():b.addEventListener("abort",d,{once:!0})},cancel(){d()}})})(a,b).getReader(),d={async next(){let a=await c.read();if(a.done)return{value:void 0,done:!0};let{value:b}=a;if(!b.ok)throw b.error;return{value:b.value,done:!1}},return:async()=>(await c.cancel(),{value:void 0,done:!0})};return{[Symbol.asyncIterator]:()=>d}}var au=R($(),1);function av(a){let b=null,c=Symbol.for("@trpc/server/http/memo"),d=c;return{read:async()=>(d!==c||(null!=b||(b=a().catch(a=>{if(a instanceof af)throw a;throw new af({code:"BAD_REQUEST",message:a instanceof Error?a.message:"Invalid input",cause:a})})),d=await b,b=null),d),result:()=>d!==c?d:void 0}}let aw={isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("application/json"))},async parse(a){var b;let{req:c}=a,d="1"===a.searchParams.get("batch"),e=d?a.path.split(","):[a.path],f=av(async()=>{let b;if("GET"===c.method){let c=a.searchParams.get("input");c&&(b=JSON.parse(c))}else b=await c.json();if(void 0===b)return{};if(!d)return{0:a.router._def._config.transformer.input.deserialize(b)};if(!D(b))throw new af({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let f={};for(let c of e.keys()){let d=b[c];void 0!==d&&(f[c]=a.router._def._config.transformer.input.deserialize(d))}return f}),g=await Promise.all(e.map(async(b,c)=>{let d=await ao(a.router,b);return{path:b,procedure:d,getRawInput:async()=>{let b=(await f.read())[c];if((null==d?void 0:d._def.type)==="subscription"){var e,g;let c=null!=(e=null!=(g=a.headers.get("last-event-id"))?g:a.searchParams.get("lastEventId"))?e:a.searchParams.get("Last-Event-Id");c&&(D(b)?b=(0,au.default)((0,au.default)({},b),{},{lastEventId:c}):null!=b||(b={lastEventId:c}))}return b},result:()=>{var a;return null==(a=f.result())?void 0:a[c]}}})),h=new Set(g.map(a=>{var b;return null==(b=a.procedure)?void 0:b._def.type}).filter(Boolean));if(h.size>1)throw new af({code:"BAD_REQUEST",message:`Cannot mix procedure types in call: ${Array.from(h).join(", ")}`});let i=null!=(b=h.values().next().value)?b:"unknown",j=a.searchParams.get("connectionParams");return{isBatchCall:d,accept:c.headers.get("trpc-accept"),calls:g,type:i,connectionParams:null===j?null:function(a){let b;try{b=JSON.parse(a)}catch(a){throw new af({code:"PARSE_ERROR",message:"Not JSON-parsable query params",cause:a})}var c=b;try{if(null===c)return null;if(!D(c))throw Error("Expected object");let a=Object.entries(c).filter(([a,b])=>"string"!=typeof b);if(a.length>0)throw Error(`Expected connectionParams to be string values. Got ${a.map(([a,b])=>`${a}: ${typeof b}`).join(", ")}`);return c}catch(a){throw new af({code:"PARSE_ERROR",message:"Invalid connection params shape",cause:a})}}(j),signal:c.signal,url:a.url}}},ax=[aw,{isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("multipart/form-data"))},async parse(a){let{req:b}=a;if("POST"!==b.method)throw new af({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for multipart/form-data requests"});let c=av(async()=>await b.formData()),d=await ao(a.router,a.path);return{accept:null,calls:[{path:a.path,getRawInput:c.read,result:c.result,procedure:d}],isBatchCall:!1,type:"mutation",connectionParams:null,signal:b.signal,url:a.url}}},{isMatch(a){var b;return!!(null==(b=a.headers.get("content-type"))?void 0:b.startsWith("application/octet-stream"))},async parse(a){let{req:b}=a;if("POST"!==b.method)throw new af({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for application/octet-stream requests"});let c=av(async()=>b.body);return{calls:[{path:a.path,getRawInput:c.read,result:c.result,procedure:await ao(a.router,a.path)}],isBatchCall:!1,accept:null,type:"mutation",connectionParams:null,signal:b.signal,url:a.url}}}];async function ay(a){let b=function(a){let b=ax.find(b=>b.isMatch(a));if(b)return b;if(!b&&"GET"===a.method)return aw;throw new af({code:"UNSUPPORTED_MEDIA_TYPE",message:a.headers.has("content-type")?`Unsupported content-type "${a.headers.get("content-type")}`:"Missing content-type header"})}(a.req);return await b.parse(a)}function az(a="AbortError"){throw new DOMException(a,"AbortError")}function aA(a){return"[object Object]"===Object.prototype.toString.call(a)}var aB=R(Z(),1);let aC=new WeakMap,aD=()=>{};d=Symbol.toStringTag;var aE=class a{constructor(a){(0,aB.default)(this,"promise",void 0),(0,aB.default)(this,"subscribers",[]),(0,aB.default)(this,"settlement",null),(0,aB.default)(this,d,"Unpromise"),"function"==typeof a?this.promise=new Promise(a):this.promise=a;let b=this.promise.then(a=>{let{subscribers:b}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:a},null==b||b.forEach(({resolve:b})=>{b(a)})});"catch"in b&&b.catch(a=>{let{subscribers:b}=this;this.subscribers=null,this.settlement={status:"rejected",reason:a},null==b||b.forEach(({reject:b})=>{b(a)})})}subscribe(){let a,b,{settlement:c}=this;if(null===c){var d;let c,e;if(null===this.subscribers)throw Error("Unpromise settled but still has subscribers");let f={promise:new Promise((a,b)=>{c=a,e=b}),resolve:c,reject:e};this.subscribers=(d=this.subscribers,[...d,f]),a=f.promise,b=()=>{null!==this.subscribers&&(this.subscribers=function(a,b){let c=a.indexOf(b);if(-1!==c)return[...a.slice(0,c),...a.slice(c+1)];return a}(this.subscribers,f))}}else{let{status:d}=c;a="fulfilled"===d?Promise.resolve(c.value):Promise.reject(c.reason),b=aD}return Object.assign(a,{unsubscribe:b})}then(a,b){let c=this.subscribe(),{unsubscribe:d}=c;return Object.assign(c.then(a,b),{unsubscribe:d})}catch(a){let b=this.subscribe(),{unsubscribe:c}=b;return Object.assign(b.catch(a),{unsubscribe:c})}finally(a){let b=this.subscribe(),{unsubscribe:c}=b;return Object.assign(b.finally(a),{unsubscribe:c})}static proxy(b){let c=a.getSubscribablePromise(b);return void 0!==c?c:a.createSubscribablePromise(b)}static createSubscribablePromise(b){let c=new a(b);return aC.set(b,c),aC.set(c,c),c}static getSubscribablePromise(a){return aC.get(a)}static resolve(b){let c="object"==typeof b&&null!==b&&"then"in b&&"function"==typeof b.then?b:Promise.resolve(b);return a.proxy(c).subscribe()}static async any(b){let c=(Array.isArray(b)?b:[...b]).map(a.resolve);try{return await Promise.any(c)}finally{c.forEach(({unsubscribe:a})=>{a()})}}static async race(b){let c=(Array.isArray(b)?b:[...b]).map(a.resolve);try{return await Promise.race(c)}finally{c.forEach(({unsubscribe:a})=>{a()})}}static async raceReferences(a){let b=a.map(aF);try{return await Promise.race(b)}finally{for(let a of b)a.unsubscribe()}}};function aF(a){return aE.proxy(a).then(()=>[a])}function aG(a,b){let c=a[Symbol.asyncDispose];return a[Symbol.asyncDispose]=async()=>{await b(),await (null==c?void 0:c())},a}null!=(e=Symbol).dispose||(e.dispose=Symbol()),null!=(f=Symbol).asyncDispose||(f.asyncDispose=Symbol());let aH=Symbol();function aI(a){let b=null;return function(a,b){let c=a[Symbol.dispose];return a[Symbol.dispose]=()=>{b(),null==c||c()},a}({start(){if(b)throw Error("Timer already started");return new Promise(c=>{b=setTimeout(()=>c(aH),a)})}},()=>{b&&clearTimeout(b)})}var aJ=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(a,b){b.exports=function(){var a="function"==typeof SuppressedError?SuppressedError:function(a,b){var c=Error();return c.name="SuppressedError",c.error=a,c.suppressed=b,c},b={},c=[];function d(a,b){if(null!=b){if(Object(b)!==b)throw TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var d=b[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(void 0===d&&(d=b[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var e=d;if("function"!=typeof d)throw TypeError("Object is not disposable.");e&&(d=function(){try{e.call(b)}catch(a){return Promise.reject(a)}}),c.push({v:b,d:d,a:a})}else a&&c.push({d:b,a:a});return b}return{e:b,u:d.bind(null,!1),a:d.bind(null,!0),d:function(){var d,e=this.e,f=0;function g(){for(;d=c.pop();)try{if(!d.a&&1===f)return f=0,c.push(d),Promise.resolve().then(g);if(d.d){var a=d.d.call(d.v);if(d.a)return f|=2,Promise.resolve(a).then(g,h)}else f|=1}catch(a){return h(a)}if(1===f)return e!==b?Promise.reject(e):Promise.resolve();if(e!==b)throw e}function h(c){return e=e!==b?new a(c,e):c,g()}return g()}}},b.exports.__esModule=!0,b.exports.default=b.exports}}),aK=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(a,b){b.exports=function(a,b){this.v=a,this.k=b},b.exports.__esModule=!0,b.exports.default=b.exports}}),aL=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(a,b){var c=aK();b.exports=function(a){return new c(a,0)},b.exports.__esModule=!0,b.exports.default=b.exports}}),aM=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(a,b){var c=aK();function d(a){var b,d;function e(b,d){try{var g=a[b](d),h=g.value,i=h instanceof c;Promise.resolve(i?h.v:h).then(function(c){if(i){var d="return"===b?"return":"next";if(!h.k||c.done)return e(d,c);c=a[d](c).value}f(g.done?"return":"normal",c)},function(a){e("throw",a)})}catch(a){f("throw",a)}}function f(a,c){switch(a){case"return":b.resolve({value:c,done:!0});break;case"throw":b.reject(c);break;default:b.resolve({value:c,done:!1})}(b=b.next)?e(b.key,b.arg):d=null}this._invoke=function(a,c){return new Promise(function(f,g){var h={key:a,arg:c,resolve:f,reject:g,next:null};d?d=d.next=h:(b=d=h,e(a,c))})},"function"!=typeof a.return&&(this.return=void 0)}d.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},d.prototype.next=function(a){return this._invoke("next",a)},d.prototype.throw=function(a){return this._invoke("throw",a)},d.prototype.return=function(a){return this._invoke("return",a)},b.exports=function(a){return function(){return new d(a.apply(this,arguments))}},b.exports.__esModule=!0,b.exports.default=b.exports}}),aN=R(aJ(),1),aO=R(aL(),1),aP=R(aM(),1);function aQ(a){let b=a[Symbol.asyncIterator]();return b[Symbol.asyncDispose]?b:aG(b,async()=>{var a;await (null==(a=b.return)?void 0:a.call(b))})}function aR(){return(aR=(0,aP.default)(function*(a,b){try{let d;var c=(0,aN.default)();let e=c.a(aQ(a)),f=c.u(aI(b.maxDurationMs)).start();for(;;){if((d=yield(0,aO.default)(aE.race([e.next(),f])))===aH&&az(),d.done)return d;yield d.value,d=null}}catch(a){c.e=a}finally{yield(0,aO.default)(c.d())}})).apply(this,arguments)}function aS(){return(aS=(0,aP.default)(function*(a,b){try{let d;var c=(0,aN.default)();let e=c.a(aQ(a)),f=c.u(aI(b.gracePeriodMs)),g=b.count,h=new Promise(()=>{});for(;;){if((d=yield(0,aO.default)(aE.race([e.next(),h])))===aH&&az(),d.done)return d.value;yield d.value,0==--g&&(h=f.start()),d=null}}catch(a){c.e=a}finally{yield(0,aO.default)(c.d())}})).apply(this,arguments)}function aT(){let a,b;return{promise:new Promise((c,d)=>{a=c,b=d}),resolve:a,reject:b}}var aU=R(aJ(),1),aV=R(aL(),1),aW=R(aM(),1);function aX(a){let b=a[Symbol.asyncIterator]();return new ReadableStream({async cancel(){var a;await (null==(a=b.return)?void 0:a.call(b))},async pull(a){let c=await b.next();if(c.done)return void a.close();a.enqueue(c.value)}})}var aY=R(aJ(),1),aZ=R(aL(),1),a$=R(aM(),1);let a_=Symbol("ping");function a0(a,b){return a1.apply(this,arguments)}function a1(){return(a1=(0,a$.default)(function*(a,b){try{let e;var c=(0,aY.default)();let f=c.a(aQ(a)),g=f.next();for(;;)try{var d=(0,aY.default)();let a=d.u(aI(b));if((e=yield(0,aZ.default)(aE.race([g,a.start()])))===aH){yield a_;continue}if(e.done)return e.value;g=f.next(),yield e.value,e=null}catch(a){d.e=a}finally{d.d()}}catch(a){c.e=a}finally{yield(0,aZ.default)(c.d())}})).apply(this,arguments)}var a2=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(a,b){function c(a){function b(a){if(Object(a)!==a)return Promise.reject(TypeError(a+" is not an object."));var b=a.done;return Promise.resolve(a.value).then(function(a){return{value:a,done:b}})}return(c=function(a){this.s=a,this.n=a.next}).prototype={s:null,n:null,next:function(){return b(this.n.apply(this.s,arguments))},return:function(a){var c=this.s.return;return void 0===c?Promise.resolve({value:a,done:!0}):b(c.apply(this.s,arguments))},throw:function(a){var c=this.s.return;return void 0===c?Promise.reject(a):b(c.apply(this.s,arguments))}},new c(a)}b.exports=function(a){var b,d,e,f=2;for("undefined"!=typeof Symbol&&(d=Symbol.asyncIterator,e=Symbol.iterator);f--;){if(d&&null!=(b=a[d]))return b.call(a);if(e&&null!=(b=a[e]))return new c(b.call(a));d="@@asyncIterator",e="@@iterator"}throw TypeError("Object is not async iterable")},b.exports.__esModule=!0,b.exports.default=b.exports}}),a3=R(aL(),1),a4=R(aM(),1),a5=R(aJ(),1),a6=R(a2(),1);function a7(a){return(D(a)||E(a))&&"function"==typeof(null==a?void 0:a.then)&&"function"==typeof(null==a?void 0:a.catch)}var a8=class extends Error{constructor(a){super("Max depth reached at path: "+a.join(".")),this.path=a}};function a9(){return(a9=(0,a4.default)(function*(a){let{data:b}=a,c=0,d=function(){let a="idle",b=aT(),c=[],d=new Set,e=[];function f(c){if("pending"!==a)return;let f=function(a,b){let c=a[Symbol.asyncIterator](),d="idle";function e(){d="done",b=()=>{}}return{pull:function(){"idle"===d&&(d="pending",c.next().then(a=>{if(a.done){d="done",b({status:"return",value:a.value}),e();return}d="idle",b({status:"yield",value:a.value})}).catch(a=>{b({status:"error",error:a}),e()}))},destroy:async()=>{var a;e(),await (null==(a=c.return)?void 0:a.call(c))}}}(c,c=>{if("pending"===a){switch(c.status){case"yield":e.push([f,c]);break;case"return":d.delete(f);break;case"error":e.push([f,c]),d.delete(f)}b.resolve()}});d.add(f),f.pull()}return{add(b){switch(a){case"idle":c.push(b);break;case"pending":f(b)}},[Symbol.asyncIterator]:()=>(0,aW.default)(function*(){try{var g=(0,aU.default)();if("idle"!==a)throw Error("Cannot iterate twice");for(a="pending",g.a(aG({},async()=>{a="done";let c=[];if(await Promise.all(Array.from(d.values()).map(async a=>{try{await a.destroy()}catch(a){c.push(a)}})),e.length=0,d.clear(),b.resolve(),c.length>0)throw AggregateError(c)}));c.length>0;)f(c.shift());for(;d.size>0;){for(yield(0,aV.default)(b.promise);e.length>0;){let[a,b]=e.shift();switch(b.status){case"yield":yield b.value,a.pull();break;case"error":throw b.error}}b=aT()}}catch(a){g.e=a}finally{yield(0,aV.default)(g.d())}})()}}();function e(a){let b=c++,e=a(b);return d.add(e),b}function f(b){return a.maxDepth&&b.length>a.maxDepth?new a8(b):null}function g(b,c){var d,g,i;if(a7(b))return[0,(d=b,e((g=(0,a4.default)(function*(b){let e=f(c);e&&(d.catch(b=>{var d;null==(d=a.onError)||d.call(a,{error:b,path:c})}),d=Promise.reject(e));try{let a=yield(0,a3.default)(d);yield[b,0,h(a,c)]}catch(d){var g,i;null==(g=a.onError)||g.call(a,{error:d,path:c}),yield[b,1,null==(i=a.formatError)?void 0:i.call(a,{error:d,path:c})]}}),function(a){return g.apply(this,arguments)})))];if(H(b)){if(a.maxDepth&&c.length>=a.maxDepth)throw Error("Max depth reached");return[1,e((i=(0,a4.default)(function*(d){try{var e,g,i=(0,a5.default)();let j=f(c);if(j)throw j;let k=i.a(aQ(b));try{for(;;){let a=yield(0,a3.default)(k.next());if(a.done){yield[d,0,h(a.value,c)];break}yield[d,1,h(a.value,c)]}}catch(b){null==(e=a.onError)||e.call(a,{error:b,path:c}),yield[d,2,null==(g=a.formatError)?void 0:g.call(a,{error:b,path:c})]}}catch(a){i.e=a}finally{yield(0,a3.default)(i.d())}}),function(a){return i.apply(this,arguments)}))]}return null}function h(a,b){var c,d;if(void 0===a)return[[]];let e=g(a,b);if(e)return[[0],[null,...e]];if(!1===aA(a)||void 0!==(c=a.constructor)&&(!1===aA(d=c.prototype)||!1===d.hasOwnProperty("isPrototypeOf")))return[[a]];let f={},h=[];for(let[c,d]of Object.entries(a)){let a=g(d,[...b,c]);if(!a){f[c]=d;continue}f[c]=0,h.push([c,...a])}return[[f],...h]}let i={};for(let[a,c]of Object.entries(b))i[a]=h(c,[a]);yield i;let j=d;a.pingMs&&(j=a0(d,a.pingMs));var k=!1,l=!1;try{for(var m,n,o=(0,a6.default)(j);k=!(n=yield(0,a3.default)(o.next())).done;k=!1){let a=n.value;yield a}}catch(a){l=!0,m=a}finally{try{k&&null!=o.return&&(yield(0,a3.default)(o.return()))}finally{if(l)throw m}}})).apply(this,arguments)}var ba=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncGeneratorDelegate.js"(a,b){var c=aK();b.exports=function(a){var b={},d=!1;function e(b,e){return d=!0,{done:!1,value:new c(e=new Promise(function(c){c(a[b](e))}),1)}}return b["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},b.next=function(a){return d?(d=!1,a):e("next",a)},"function"==typeof a.throw&&(b.throw=function(a){if(d)throw d=!1,a;return e("throw",a)}),"function"==typeof a.return&&(b.return=function(a){return d?(d=!1,a):e("return",a)}),b},b.exports.__esModule=!0,b.exports.default=b.exports}}),bb=R(a2(),1),bc=R(aL(),1),bd=R(aM(),1),be=R(ba(),1);R(aJ(),1);let bf={"Content-Type":"text/event-stream","Cache-Control":"no-cache, no-transform","X-Accel-Buffering":"no",Connection:"keep-alive"};var bg=R(aM(),1),bh=R($(),1);function bi(a){return I((0,bg.default)(function*(){throw a}))}let bj={mutation:["POST"],query:["GET"],subscription:["GET"]},bk={mutation:["POST"],query:["GET","POST"],subscription:["GET","POST"]};function bl(a){var b,c,d;let{ctx:e,info:f,responseMeta:g,untransformedJSON:h,errors:i=[],headers:j}=a,k=h?function(a){let b=new Set((Array.isArray(a)?a:[a]).map(a=>{if("error"in a&&D(a.error.data)){var b;return"number"==typeof(null==(b=a.error.data)?void 0:b.httpStatus)?a.error.data.httpStatus:V(B[a.error.code])}return 200}));return 1!==b.size?207:b.values().next().value}(h):200,l=!h,m=l?[]:Array.isArray(h)?h:[h],n=null!=(b=null==g?void 0:g({ctx:e,info:f,paths:null==f?void 0:f.calls.map(a=>a.path),data:m,errors:i,eagerGeneration:l,type:null!=(c=null==f||null==(d=f.calls.find(a=>{var b;return null==(b=a.procedure)?void 0:b._def.type}))||null==(d=d.procedure)?void 0:d._def.type)?c:"unknown"}))?b:{};if(n.headers)if(n.headers instanceof Headers)for(let[a,b]of n.headers.entries())j.append(a,b);else for(let[a,b]of Object.entries(n.headers))if(Array.isArray(b))for(let c of b)j.append(a,c);else"string"==typeof b&&j.set(a,b);return n.status&&(k=n.status),{status:k}}function bm(a){return!!D(a)&&(!!H(a)||Object.values(a).some(a7)||Object.values(a).some(H))}async function bn(a){var b,c,d,e,f,g,h;let{router:i,req:j}=a,k=new Headers([["vary","trpc-accept"]]),l=i._def._config,m=new URL(j.url);if("HEAD"===j.method)return new Response(null,{status:204});let n=null==(b=null!=(c=a.allowBatching)?c:null==(d=a.batching)?void 0:d.enabled)||b,o=null!=(e=a.allowMethodOverride)&&e&&"POST"===j.method,p=await I(async()=>{try{return[void 0,await ay({req:j,path:decodeURIComponent(a.path),router:i,searchParams:m.searchParams,headers:a.req.headers,url:m})]}catch(a){return[ae(a),void 0]}}),q=I(()=>{let b;return{valueOrUndefined:()=>{if(b)return b[1]},value:()=>{let[a,c]=b;if(a)throw a;return c},create:async c=>{if(b)throw Error("This should only be called once - report a bug in tRPC");try{let d=await a.createContext({info:c});b=[void 0,d]}catch(a){b=[ae(a),void 0]}}}}),r=o?bk:bj,s="application/jsonl"===j.headers.get("trpc-accept"),t=null==(f=null==(g=l.sse)?void 0:g.enabled)||f;try{let[b,c]=p;if(b)throw b;if(c.isBatchCall&&!n)throw new af({code:"BAD_REQUEST",message:"Batching is not enabled on the server"});if(s&&!c.isBatchCall)throw new af({message:"Streaming requests must be batched (you can do a batch of 1)",code:"BAD_REQUEST"});await q.create(c);let d=c.calls.map(async b=>{let d=b.procedure;try{if(a.error)throw a.error;if(!d)throw new af({code:"NOT_FOUND",message:`No procedure found on path "${b.path}"`});if(!r[d._def.type].includes(j.method))throw new af({code:"METHOD_NOT_SUPPORTED",message:`Unsupported ${j.method}-request to ${d._def.type} procedure at path "${b.path}"`});if("subscription"===d._def.type&&c.isBatchCall)throw new af({code:"BAD_REQUEST",message:"Cannot batch subscription calls"});let e=await d({path:b.path,getRawInput:b.getRawInput,ctx:q.value(),type:d._def.type,signal:a.req.signal});return[void 0,{data:e}]}catch(h){var e,f,g;let c=ae(h),d=b.result();return null==(e=a.onError)||e.call(a,{error:c,path:b.path,input:d,ctx:q.valueOrUndefined(),type:null!=(f=null==(g=b.procedure)?void 0:g._def.type)?f:"unknown",req:a.req}),[c,void 0]}});if(!c.isBatchCall){let[b]=c.calls,[e,f]=await d[0];switch(c.type){case"unknown":case"mutation":case"query":{if(k.set("content-type","application/json"),bm(null==f?void 0:f.data))throw new af({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"});let d=e?{error:aa({config:l,ctx:q.valueOrUndefined(),error:e,input:b.result(),path:b.path,type:c.type})}:{result:{data:f.data}},g=bl({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:e?[e]:[],headers:k,untransformedJSON:[d]});return new Response(JSON.stringify(aj(l,d)),{status:g.status,headers:k})}case"subscription":{let d=I(()=>e?bi(e):t?as(f.data)||H(f.data)?as(f.data)?at(f.data,a.req.signal):f.data:bi(new af({message:`Subscription ${b.path} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"})):bi(new af({code:"METHOD_NOT_SUPPORTED",message:'Missing experimental flag "sseSubscriptions"'}))),g=function(a){var b,c,d,e,f;let{serialize:g=J}=a,h={enabled:null!=(b=null==(c=a.ping)?void 0:c.enabled)&&b,intervalMs:null!=(d=null==(e=a.ping)?void 0:e.intervalMs)?d:1e3},i=null!=(f=a.client)?f:{};if(h.enabled&&i.reconnectAfterInactivityMs&&h.intervalMs>i.reconnectAfterInactivityMs)throw Error(`Ping interval must be less than client reconnect interval to prevent unnecessary reconnection - ping.intervalMs: ${h.intervalMs} client.reconnectAfterInactivityMs: ${i.reconnectAfterInactivityMs}`);function j(){return(j=(0,bd.default)(function*(){let b,c;yield{event:"connected",data:JSON.stringify(i)};let d=a.data;a.emitAndEndImmediately&&(d=function(a,b){return aS.apply(this,arguments)}(d,{count:1,gracePeriodMs:1})),a.maxDurationMs&&a.maxDurationMs>0&&a.maxDurationMs!==1/0&&(d=function(a,b){return aR.apply(this,arguments)}(d,{maxDurationMs:a.maxDurationMs})),h.enabled&&h.intervalMs!==1/0&&h.intervalMs>0&&(d=a0(d,h.intervalMs));var e=!1,f=!1;try{for(var j,k,l,m=(0,bb.default)(d);e=!(l=yield(0,bc.default)(m.next())).done;e=!1){if((b=l.value)===a_){yield{event:"ping",data:""};continue}(j=b,c=Array.isArray(j)&&j[2]===ar?{id:b[0],data:b[1]}:{data:b}).data=JSON.stringify(g(c.data)),yield c,b=null,c=null}}catch(a){f=!0,k=a}finally{try{e&&null!=m.return&&(yield(0,bc.default)(m.return()))}finally{if(f)throw k}}})).apply(this,arguments)}function k(){return(k=(0,bd.default)(function*(){try{yield*(0,be.default)((0,bb.default)(function(){return j.apply(this,arguments)}())),yield{event:"return",data:""}}catch(f){var b,c;if(D(f)&&"AbortError"===f.name)return;let d=ae(f),e=null!=(b=null==(c=a.formatError)?void 0:c.call(a,{error:d}))?b:null;yield{event:"serialized-error",data:JSON.stringify(g(e))}}})).apply(this,arguments)}return aX(function(){return k.apply(this,arguments)}()).pipeThrough(new TransformStream({transform(a,b){"event"in a&&b.enqueue(`event: ${a.event}
`),"data"in a&&b.enqueue(`data: ${a.data}
`),"id"in a&&b.enqueue(`id: ${a.id}
`),"comment"in a&&b.enqueue(`: ${a.comment}
`),b.enqueue("\n\n")}})).pipeThrough(new TextEncoderStream)}((0,bh.default)((0,bh.default)({},l.sse),{},{data:d,serialize:a=>l.transformer.output.serialize(a),formatError(c){var d,e,f;let g=ae(c.error),h=null==b?void 0:b.result(),i=null==b?void 0:b.path,j=null!=(d=null==b||null==(e=b.procedure)?void 0:e._def.type)?d:"unknown";return null==(f=a.onError)||f.call(a,{error:g,path:i,input:h,ctx:q.valueOrUndefined(),req:a.req,type:j}),aa({config:l,ctx:q.valueOrUndefined(),error:g,input:h,path:i,type:j})}}));for(let[a,b]of Object.entries(bf))k.set(a,b);let h=bl({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:[],headers:k,untransformedJSON:null});return new Response(g,{headers:k,status:h.status})}}}if("application/jsonl"===c.accept){k.set("content-type","application/json"),k.set("transfer-encoding","chunked");let b=bl({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,errors:[],headers:k,untransformedJSON:null}),e=function(a){let b=aX(function(a){return a9.apply(this,arguments)}(a)),{serialize:c}=a;return c&&(b=b.pipeThrough(new TransformStream({transform(a,b){a===a_?b.enqueue(a_):b.enqueue(c(a))}}))),b.pipeThrough(new TransformStream({transform(a,b){a===a_?b.enqueue(" "):b.enqueue(JSON.stringify(a)+"\n")}})).pipeThrough(new TextEncoderStream)}((0,bh.default)((0,bh.default)({},l.jsonl),{},{maxDepth:1/0,data:d.map(async b=>{let[d,e]=await b,f=c.calls[0];if(d){var g,h;return{error:aa({config:l,ctx:q.valueOrUndefined(),error:d,input:f.result(),path:f.path,type:null!=(g=null==(h=f.procedure)?void 0:h._def.type)?g:"unknown"})}}let i=as(e.data)?at(e.data,a.req.signal):Promise.resolve(e.data);return{result:Promise.resolve({data:i})}}),serialize:a=>l.transformer.output.serialize(a),onError:b=>{var d,e;null==(d=a.onError)||d.call(a,{error:ae(b),path:void 0,input:void 0,ctx:q.valueOrUndefined(),req:a.req,type:null!=(e=null==c?void 0:c.type)?e:"unknown"})},formatError(a){var b,d;let e=null==c?void 0:c.calls[a.path[0]],f=ae(a.error),g=null==e?void 0:e.result(),h=null==e?void 0:e.path,i=null!=(b=null==e||null==(d=e.procedure)?void 0:d._def.type)?b:"unknown";return aa({config:l,ctx:q.valueOrUndefined(),error:f,input:g,path:h,type:i})}}));return new Response(e,{headers:k,status:b.status})}k.set("content-type","application/json");let e=(await Promise.all(d)).map(a=>{let[b,c]=a;return b?a:bm(c.data)?[new af({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot use stream-like response in non-streaming request - use httpBatchStreamLink"}),void 0]:a}),f=e.map(([a,b],d)=>{let e=c.calls[d];if(a){var f,g;return{error:aa({config:l,ctx:q.valueOrUndefined(),error:a,input:e.result(),path:e.path,type:null!=(f=null==(g=e.procedure)?void 0:g._def.type)?f:"unknown"})}}return{result:{data:b.data}}}),g=e.map(([a])=>a).filter(Boolean),h=bl({ctx:q.valueOrUndefined(),info:c,responseMeta:a.responseMeta,untransformedJSON:f,errors:g,headers:k});return new Response(JSON.stringify(aj(l,f)),{status:h.status,headers:k})}catch(i){let[b,c]=p,d=q.valueOrUndefined(),{error:e,untransformedJSON:f,body:g}=function(a,b){let{router:c,req:d,onError:e}=b.opts,f=ae(a);null==e||e({error:f,path:b.path,input:b.input,ctx:b.ctx,type:b.type,req:d});let g={error:aa({config:c._def._config,error:f,type:b.type,path:b.path,input:b.input,ctx:b.ctx})},h=JSON.stringify(aj(c._def._config,g));return{error:f,untransformedJSON:g,body:h}}(i,{opts:a,ctx:q.valueOrUndefined(),type:null!=(h=null==c?void 0:c.type)?h:"unknown"});return new Response(g,{status:bl({ctx:d,info:c,responseMeta:a.responseMeta,untransformedJSON:f,errors:[e],headers:k}).status,headers:k})}}var bo=R($(),1);let bp=a=>a=(a=a.startsWith("/")?a.slice(1):a).endsWith("/")?a.slice(0,-1):a;async function bq(a){let b=new Headers,c=async c=>{var d;return null==(d=a.createContext)?void 0:d.call(a,(0,bo.default)({req:a.req,resHeaders:b},c))},d=bp(new URL(a.req.url).pathname),e=bp(a.endpoint),f=bp(d.slice(e.length));return await bn((0,bo.default)((0,bo.default)({},a),{},{req:a.req,createContext:c,path:f,error:null,onError(b){var c;null==a||null==(c=a.onError)||c.call(a,(0,bo.default)((0,bo.default)({},b),{},{req:a.req}))},responseMeta(c){var d;let e=null==(d=a.responseMeta)?void 0:d.call(a,c);if(null==e?void 0:e.headers)if(e.headers instanceof Headers)for(let[a,c]of e.headers.entries())b.append(a,c);else for(let[a,c]of Object.entries(e.headers))if(Array.isArray(c))for(let d of c)b.append(a,d);else"string"==typeof c&&b.set(a,c);return{headers:b,status:null==e?void 0:e.status}}}))}var br=R($(),1);let bs="middlewareMarker";var bt=R(Z(),1),bu=class extends Error{constructor(a){var b;super(null==(b=a[0])?void 0:b.message),(0,bt.default)(this,"issues",void 0),this.name="SchemaError",this.issues=a}};function bv(a){let b="~standard"in a;if("function"==typeof a&&"function"==typeof a.assert)return a.assert.bind(a);if("function"==typeof a&&!b)return a;if("function"==typeof a.parseAsync)return a.parseAsync.bind(a);if("function"==typeof a.parse)return a.parse.bind(a);if("function"==typeof a.validateSync)return a.validateSync.bind(a);if("function"==typeof a.create)return a.create.bind(a);if("function"==typeof a.assert)return b=>(a.assert(b),b);if(b)return async b=>{let c=await a["~standard"].validate(b);if(c.issues)throw new bu(c.issues);return c.value};throw Error("Could not find a validator fn")}var bw=Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutPropertiesLoose.js"(a,b){b.exports=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(b.includes(d))continue;c[d]=a[d]}return c},b.exports.__esModule=!0,b.exports.default=b.exports}}),bx=R(Q({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectWithoutProperties.js"(a,b){var c=bw();b.exports=function(a,b){if(null==a)return{};var d,e,f=c(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(e=0;e<g.length;e++)d=g[e],b.includes(d)||({}).propertyIsEnumerable.call(a,d)&&(f[d]=a[d])}return f},b.exports.__esModule=!0,b.exports.default=b.exports}})(),1),by=R($(),1);let bz=["middlewares","inputs","meta"];function bA(a,b){let{middlewares:c=[],inputs:d,meta:e}=b,f=(0,bx.default)(b,bz);return bB((0,by.default)((0,by.default)({},C(a,f)),{},{inputs:[...a.inputs,...null!=d?d:[]],middlewares:[...a.middlewares,...c],meta:a.meta&&e?(0,by.default)((0,by.default)({},a.meta),e):null!=e?e:a.meta}))}function bB(a={}){let b=(0,by.default)({procedure:!0,inputs:[],middlewares:[]},a);return{_def:b,input(a){let c=bv(a);return bA(b,{inputs:[a],middlewares:[function(a){let b=async function(b){let c,d=await b.getRawInput();try{c=await a(d)}catch(a){throw new af({code:"BAD_REQUEST",cause:a})}let e=D(b.input)&&D(c)?(0,br.default)((0,br.default)({},b.input),c):c;return b.next({input:e})};return b._type="input",b}(c)]})},output(a){let c=bv(a);return bA(b,{output:a,middlewares:[function(a){let b=async function({next:b}){let c=await b();if(!c.ok)return c;try{let b=await a(c.data);return(0,br.default)((0,br.default)({},c),{},{data:b})}catch(a){throw new af({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:a})}};return b._type="output",b}(c)]})},meta:a=>bA(b,{meta:a}),use:a=>bA(b,{middlewares:"_middlewares"in a?a._middlewares:[a]}),unstable_concat:a=>bA(b,a._def),concat:a=>bA(b,a._def),query:a=>bC((0,by.default)((0,by.default)({},b),{},{type:"query"}),a),mutation:a=>bC((0,by.default)((0,by.default)({},b),{},{type:"mutation"}),a),subscription:a=>bC((0,by.default)((0,by.default)({},b),{},{type:"subscription"}),a),experimental_caller:a=>bA(b,{caller:a})}}function bC(a,b){let c=bA(a,{resolver:b,middlewares:[async function(a){return{marker:bs,ok:!0,data:await b(a),ctx:a.ctx}}]}),d=(0,by.default)((0,by.default)({},c._def),{},{type:a.type,experimental_caller:!!c._def.caller,meta:c._def.meta,$types:null}),e=function(a){async function b(b){if(!b||!("getRawInput"in b))throw Error(bD);let c=await bE(0,a,b);if(!c)throw new af({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!c.ok)throw c.error;return c.data}return b._def=a,b.procedure=!0,b.meta=a.meta,b}(c._def),f=c._def.caller;if(!f)return e;let g=async(...a)=>await f({args:a,invoke:e,_def:d});return g._def=d,g}let bD=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim();async function bE(a,b,c){try{let d=b.middlewares[a];return await d((0,by.default)((0,by.default)({},c),{},{meta:b.meta,input:c.input,next(d){var e;return bE(a+1,b,(0,by.default)((0,by.default)({},c),{},{ctx:(null==d?void 0:d.ctx)?(0,by.default)((0,by.default)({},c.ctx),d.ctx):c.ctx,input:d&&"input"in d?d.input:c.input,getRawInput:null!=(e=null==d?void 0:d.getRawInput)?e:c.getRawInput}))}}))}catch(a){return{ok:!1,error:ae(a),marker:bs}}}let bF="undefined"==typeof window||"Deno"in window||(null==(g=globalThis.process)||null==(g=g.env)?void 0:g.NODE_ENV)==="test"||!!(null==(h=globalThis.process)||null==(h=h.env)?void 0:h.JEST_WORKER_ID)||!!(null==(i=globalThis.process)||null==(i=i.env)?void 0:i.VITEST_WORKER_ID);var bG=R($(),1);let bH=new class a{context(){return new a}meta(){return new a}create(a){var b,c,d,e,f,g,h,i;let j=(0,bG.default)((0,bG.default)({},a),{},{transformer:"input"in(i=null!=(b=null==a?void 0:a.transformer)?b:ah)?i:{input:i,output:i},isDev:null!=(c=null==a?void 0:a.isDev)?c:(null==(d=globalThis.process)?void 0:d.env.NODE_ENV)!=="production",allowOutsideOfServer:null!=(e=null==a?void 0:a.allowOutsideOfServer)&&e,errorFormatter:null!=(f=null==a?void 0:a.errorFormatter)?f:ab,isServer:null!=(g=null==a?void 0:a.isServer)?g:bF,$types:null});if(!(null!=(h=null==a?void 0:a.isServer)?h:bF)&&(null==a?void 0:a.allowOutsideOfServer)!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:j,procedure:bB({meta:null==a?void 0:a.defaultMeta}),middleware:function(a){return function a(b){return{_middlewares:b,unstable_pipe:c=>a([...b,..."_middlewares"in c?c._middlewares:[c]])}}([a])},router:an(j),mergeRouters:aq,createCallerFactory:ap()}}}().create(),bI=bH.router,bJ=bH.procedure;function bK(a,b,c){function d(c,d){var e;for(let f in Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(e=c._zod).traits??(e.traits=new Set),c._zod.traits.add(a),b(c,d),g.prototype)f in c||Object.defineProperty(c,f,{value:g.prototype[f].bind(c)});c._zod.constr=g,c._zod.def=d}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}Object.freeze({status:"aborted"}),Symbol("zod_brand");class bL extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}let bM={};function bN(a){return a&&Object.assign(bM,a),bM}let bO=/^[cC][^\s-]{8,}$/,bP=/^[0-9a-z]+$/,bQ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bR=/^[0-9a-vA-V]{20}$/,bS=/^[A-Za-z0-9]{27}$/,bT=/^[a-zA-Z0-9_-]{21}$/,bU=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,bV=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bW=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,bX=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,bY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,b$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,b_=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b0=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,b1=/^[A-Za-z0-9_-]*$/,b2=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,b3=/^\+(?:[0-9]){6,14}[0-9]$/,b4="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",b5=RegExp(`^${b4}$`);function b6(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}let b7=/^\d+$/,b8=/^-?\d+(?:\.\d+)?/i,b9=/^[^A-Z]*$/,ca=/^[^a-z]*$/;function cb(a,b){return"bigint"==typeof b?b.toString():b}function cc(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function cd(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}let ce=Symbol("evaluating");function cf(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==ce)return void 0===d&&(d=ce,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function cg(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function ch(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function ci(a){return JSON.stringify(a)}let cj="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function ck(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let cl=cc(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function cm(a){if(!1===ck(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!1!==ck(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}let cn=new Set(["string","number","symbol"]);function co(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function cp(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function cq(a){if(!a)return{};if("string"==typeof a)return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");a.error=a.message}return(delete a.message,"string"==typeof a.error)?{...a,error:()=>a.error}:a}let cr={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function cs(a,b=0){for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function ct(a,b){return b.map(b=>(b.path??(b.path=[]),b.path.unshift(a),b))}function cu(a){return"string"==typeof a?a:a?.message}function cv(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=cu(a.inst?._zod.def?.error?.(a))??cu(b?.error?.(a))??cu(c.customError?.(a))??cu(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function cw(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function cx(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}let cy=bK("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),cz={number:"number",bigint:"bigint",object:"date"},cA=bK("$ZodCheckLessThan",(a,b)=>{cy.init(a,b);let c=cz[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),cB=bK("$ZodCheckGreaterThan",(a,b)=>{cy.init(a,b);let c=cz[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),cC=bK("$ZodCheckMultipleOf",(a,b)=>{cy.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===function(a,b){let c=(a.toString().split(".")[1]||"").length,d=b.toString(),e=(d.split(".")[1]||"").length;if(0===e&&/\d?e-\d?/.test(d)){let a=d.match(/\d?e-(\d?)/);a?.[1]&&(e=Number.parseInt(a[1]))}let f=c>e?c:e;return Number.parseInt(a.toFixed(f).replace(".",""))%Number.parseInt(b.toFixed(f).replace(".",""))/10**f}(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),cD=bK("$ZodCheckNumberFormat",(a,b)=>{cy.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=cr[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=b7)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",continue:!1,input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inst:a})}}),cE=bK("$ZodCheckMaxLength",(a,b)=>{var c;cy.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return null!=b&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=cw(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),cF=bK("$ZodCheckMinLength",(a,b)=>{var c;cy.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return null!=b&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=cw(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),cG=bK("$ZodCheckLengthEquals",(a,b)=>{var c;cy.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return null!=b&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=cw(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),cH=bK("$ZodCheckStringFormat",(a,b)=>{var c,d;cy.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),cI=bK("$ZodCheckRegex",(a,b)=>{cH.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),cJ=bK("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=b9),cH.init(a,b)}),cK=bK("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=ca),cH.init(a,b)}),cL=bK("$ZodCheckIncludes",(a,b)=>{cy.init(a,b);let c=co(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),cM=bK("$ZodCheckStartsWith",(a,b)=>{cy.init(a,b);let c=RegExp(`^${co(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),cN=bK("$ZodCheckEndsWith",(a,b)=>{cy.init(a,b);let c=RegExp(`.*${co(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}}),cO=bK("$ZodCheckOverwrite",(a,b)=>{cy.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});class cP{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}let cQ=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,cb,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},cR=bK("$ZodError",cQ),cS=bK("$ZodError",cQ,{Parent:Error}),cT=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new bL;return f.issues.length?{success:!1,error:new(a??cR)(f.issues.map(a=>cv(a,e,bN())))}:{success:!0,data:f.value}},cU=cT(cS),cV=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>cv(a,e,bN())))}:{success:!0,data:f.value}},cW=cV(cS),cX={major:4,minor:0,patch:15},cY=bK("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=cX;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=cs(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new bL;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=cs(a,b)))});else{if(a.issues.length===b)continue;e||(e=cs(a,b))}}return d?d.then(()=>a):a};a._zod.run=(c,e)=>{let f=a._zod.parse(c,e);if(f instanceof Promise){if(!1===e.async)throw new bL;return f.then(a=>b(a,d,e))}return b(f,d,e)}}a["~standard"]={validate:b=>{try{let c=cU(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return cW(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),cZ=bK("$ZodString",(a,b)=>{cY.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??(a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)})(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),c$=bK("$ZodStringFormat",(a,b)=>{cH.init(a,b),cZ.init(a,b)}),c_=bK("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=bV),c$.init(a,b)}),c0=bK("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=bW(a))}else b.pattern??(b.pattern=bW());c$.init(a,b)}),c1=bK("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=bX),c$.init(a,b)}),c2=bK("$ZodURL",(a,b)=>{c$.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:b2.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),c3=bK("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),c$.init(a,b)}),c4=bK("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=bT),c$.init(a,b)}),c5=bK("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=bO),c$.init(a,b)}),c6=bK("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=bP),c$.init(a,b)}),c7=bK("$ZodULID",(a,b)=>{b.pattern??(b.pattern=bQ),c$.init(a,b)}),c8=bK("$ZodXID",(a,b)=>{b.pattern??(b.pattern=bR),c$.init(a,b)}),c9=bK("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=bS),c$.init(a,b)}),da=bK("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=function(a){let b=b6({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${b4}T(?:${d})$`)}(b)),c$.init(a,b)}),db=bK("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=b5),c$.init(a,b)}),dc=bK("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=RegExp(`^${b6(b)}$`)),c$.init(a,b)}),dd=bK("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=bU),c$.init(a,b)}),de=bK("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=bY),c$.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv4"})}),df=bK("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=bZ),c$.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.format="ipv6"}),a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),dg=bK("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=b$),c$.init(a,b)}),dh=bK("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=b_),c$.init(a,b),a._zod.check=c=>{let[d,e]=c.value.split("/");try{if(!e)throw Error();let a=Number(e);if(`${a}`!==e||a<0||a>128)throw Error();new URL(`http://[${d}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function di(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let dj=bK("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=b0),c$.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64"}),a._zod.check=c=>{di(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}}),dk=bK("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=b1),c$.init(a,b),a._zod.onattach.push(a=>{a._zod.bag.contentEncoding="base64url"}),a._zod.check=c=>{!function(a){if(!b1.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return di(b.padEnd(4*Math.ceil(b.length/4),"="))}(c.value)&&c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),dl=bK("$ZodE164",(a,b)=>{b.pattern??(b.pattern=b3),c$.init(a,b)}),dm=bK("$ZodJWT",(a,b)=>{c$.init(a,b),a._zod.check=c=>{!function(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}(c.value,b.alg)&&c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),dn=bK("$ZodNumber",(a,b)=>{cY.init(a,b),a._zod.pattern=a._zod.bag.pattern??b8,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),dp=bK("$ZodNumber",(a,b)=>{cD.init(a,b),dn.init(a,b)}),dq=bK("$ZodUnknown",(a,b)=>{cY.init(a,b),a._zod.parse=a=>a}),dr=bK("$ZodNever",(a,b)=>{cY.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)});function ds(a,b,c){a.issues.length&&b.issues.push(...ct(c,a.issues)),b.value[c]=a.value}let dt=bK("$ZodArray",(a,b)=>{cY.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>ds(b,c,a))):ds(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function du(a,b,c,d){a.issues.length&&b.issues.push(...ct(c,a.issues)),void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}let dv=bK("$ZodObject",(a,b)=>{let c,d;cY.init(a,b);let e=cc(()=>{let a=Object.keys(b.shape);for(let c of a)if(!(b.shape[c]instanceof cY))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=function(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}(b.shape);return{shape:b.shape,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(c)}});cf(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=!bM.jitless,g=f&&cl.value,h=b.catchall;a._zod.parse=(i,j)=>{d??(d=e.value);let k=i.value;if(!ck(k))return i.issues.push({expected:"object",code:"invalid_type",input:k,inst:a}),i;let l=[];if(f&&g&&j?.async===!1&&!0!==j.jitless)c||(c=(a=>{let b=new cP(["shape","payload","ctx"]),c=e.value,d=a=>{let b=ci(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let f=Object.create(null),g=0;for(let a of c.keys)f[a]=`key_${g++}`;for(let a of(b.write("const newResult = {}"),c.keys)){let c=f[a],e=ci(a);b.write(`const ${c} = ${d(a)};`),b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${e}, ...iss.path] : [${e}]
          })));
        }
        
        if (${c}.value === undefined) {
          if (${e} in input) {
            newResult[${e}] = undefined;
          }
        } else {
          newResult[${e}] = ${c}.value;
        }
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)})(b.shape)),i=c(i,j);else{i.value={};let a=d.shape;for(let b of d.keys){let c=a[b]._zod.run({value:k[b],issues:[]},j);c instanceof Promise?l.push(c.then(a=>du(a,i,b,k))):du(c,i,b,k)}}if(!h)return l.length?Promise.all(l).then(()=>i):i;let m=[],n=d.keySet,o=h._zod,p=o.def.type;for(let a of Object.keys(k)){if(n.has(a))continue;if("never"===p){m.push(a);continue}let b=o.run({value:k[a],issues:[]},j);b instanceof Promise?l.push(b.then(b=>du(b,i,a,k))):du(b,i,a,k)}return(m.length&&i.issues.push({code:"unrecognized_keys",keys:m,input:k,inst:a}),l.length)?Promise.all(l).then(()=>i):i}});function dw(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let e=a.filter(a=>!cs(a));return 1===e.length?(b.value=e[0].value,e[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>cv(a,d,bN())))}),b)}let dx=bK("$ZodUnion",(a,b)=>{cY.init(a,b),cf(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),cf(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),cf(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),cf(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>cd(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>dw(b,e,a,f)):dw(h,e,a,f)}}),dy=bK("$ZodIntersection",(a,b)=>{cY.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>dz(a,b,c)):dz(a,e,f)}});function dz(a,b,c){if(b.issues.length&&a.issues.push(...b.issues),c.issues.length&&a.issues.push(...c.issues),cs(a))return a;let d=function a(b,c){if(b===c||b instanceof Date&&c instanceof Date&&+b==+c)return{valid:!0,data:b};if(cm(b)&&cm(c)){let d=Object.keys(c),e=Object.keys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};f[d]=e.data}return{valid:!0,data:f}}if(Array.isArray(b)&&Array.isArray(c)){if(b.length!==c.length)return{valid:!1,mergeErrorPath:[]};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1,mergeErrorPath:[e,...f.mergeErrorPath]};d.push(f.data)}return{valid:!0,data:d}}return{valid:!1,mergeErrorPath:[]}}(b.value,c.value);if(!d.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return a.value=d.data,a}let dA=bK("$ZodEnum",(a,b)=>{cY.init(a,b);let c=function(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}(b.entries),d=new Set(c);a._zod.values=d,a._zod.pattern=RegExp(`^(${c.filter(a=>cn.has(typeof a)).map(a=>"string"==typeof a?co(a):a.toString()).join("|")})$`),a._zod.parse=(b,e)=>{let f=b.value;return d.has(f)||b.issues.push({code:"invalid_value",values:c,input:f,inst:a}),b}}),dB=bK("$ZodTransform",(a,b)=>{cY.init(a,b),a._zod.parse=(a,c)=>{let d=b.transform(a.value,a);if(c.async)return(d instanceof Promise?d:Promise.resolve(d)).then(b=>(a.value=b,a));if(d instanceof Promise)throw new bL;return a.value=d,a}});function dC(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let dD=bK("$ZodOptional",(a,b)=>{cY.init(a,b),a._zod.optin="optional",a._zod.optout="optional",cf(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),cf(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${cd(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>dC(b,a.value)):dC(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),dE=bK("$ZodNullable",(a,b)=>{cY.init(a,b),cf(a._zod,"optin",()=>b.innerType._zod.optin),cf(a._zod,"optout",()=>b.innerType._zod.optout),cf(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${cd(a.source)}|null)$`):void 0}),cf(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),dF=bK("$ZodDefault",(a,b)=>{cY.init(a,b),a._zod.optin="optional",cf(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>dG(a,b)):dG(d,b)}});function dG(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let dH=bK("$ZodPrefault",(a,b)=>{cY.init(a,b),a._zod.optin="optional",cf(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>(void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),dI=bK("$ZodNonOptional",(a,b)=>{cY.init(a,b),cf(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>dJ(b,a)):dJ(e,a)}});function dJ(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let dK=bK("$ZodCatch",(a,b)=>{cY.init(a,b),cf(a._zod,"optin",()=>b.innerType._zod.optin),cf(a._zod,"optout",()=>b.innerType._zod.optout),cf(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>cv(a,c,bN()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>cv(a,c,bN()))},input:a.value}),a.issues=[]),a)}}),dL=bK("$ZodPipe",(a,b)=>{cY.init(a,b),cf(a._zod,"values",()=>b.in._zod.values),cf(a._zod,"optin",()=>b.in._zod.optin),cf(a._zod,"optout",()=>b.out._zod.optout),cf(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>dM(a,b,c)):dM(d,b,c)}});function dM(a,b,c){return a.issues.length?a:b.out._zod.run({value:a.value,issues:a.issues},c)}let dN=bK("$ZodReadonly",(a,b)=>{cY.init(a,b),cf(a._zod,"propValues",()=>b.innerType._zod.propValues),cf(a._zod,"values",()=>b.innerType._zod.values),cf(a._zod,"optin",()=>b.innerType._zod.optin),cf(a._zod,"optout",()=>b.innerType._zod.optout),a._zod.parse=(a,c)=>{let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(dO):dO(d)}});function dO(a){return a.value=Object.freeze(a.value),a}let dP=bK("$ZodCustom",(a,b)=>{cy.init(a,b),cY.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>dQ(b,c,d,a));dQ(e,c,d,a)}});function dQ(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(cx(a))}}Symbol("ZodOutput"),Symbol("ZodInput");class dR{constructor(){this._map=new Map,this._idmap=new Map}add(a,...b){let c=b[0];if(this._map.set(a,c),c&&"object"==typeof c&&"id"in c){if(this._idmap.has(c.id))throw Error(`ID ${c.id} already exists in the registry`);this._idmap.set(c.id,a)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}let dS=new dR;function dT(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...cq(b)})}function dU(a,b){return new cA({check:"less_than",...cq(b),value:a,inclusive:!1})}function dV(a,b){return new cA({check:"less_than",...cq(b),value:a,inclusive:!0})}function dW(a,b){return new cB({check:"greater_than",...cq(b),value:a,inclusive:!1})}function dX(a,b){return new cB({check:"greater_than",...cq(b),value:a,inclusive:!0})}function dY(a,b){return new cC({check:"multiple_of",...cq(b),value:a})}function dZ(a,b){return new cE({check:"max_length",...cq(b),maximum:a})}function d$(a,b){return new cF({check:"min_length",...cq(b),minimum:a})}function d_(a,b){return new cG({check:"length_equals",...cq(b),length:a})}function d0(a){return new cO({check:"overwrite",tx:a})}let d1=bK("ZodISODateTime",(a,b)=>{da.init(a,b),ef.init(a,b)}),d2=bK("ZodISODate",(a,b)=>{db.init(a,b),ef.init(a,b)}),d3=bK("ZodISOTime",(a,b)=>{dc.init(a,b),ef.init(a,b)}),d4=bK("ZodISODuration",(a,b)=>{dd.init(a,b),ef.init(a,b)}),d5=(a,b)=>{cR.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>(function(a,b){let c=b||function(a){return a.message},d={_errors:[]},e=a=>{for(let b of a.issues)if("invalid_union"===b.code&&b.errors.length)b.errors.map(a=>e({issues:a}));else if("invalid_key"===b.code)e({issues:b.issues});else if("invalid_element"===b.code)e({issues:b.issues});else if(0===b.path.length)d._errors.push(c(b));else{let a=d,e=0;for(;e<b.path.length;){let d=b.path[e];e===b.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(c(b))):a[d]=a[d]||{_errors:[]},a=a[d],e++}}};return e(a),d})(a,b)},flatten:{value:b=>(function(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}})(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,cb,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,cb,2)}},isEmpty:{get:()=>0===a.issues.length}})};bK("ZodError",d5);let d6=bK("ZodError",d5,{Parent:Error}),d7=(a,b,c,d)=>{let e=c?Object.assign(c,{async:!1}):{async:!1},f=a._zod.run({value:b,issues:[]},e);if(f instanceof Promise)throw new bL;if(f.issues.length){let a=new(d?.Err??d6)(f.issues.map(a=>cv(a,e,bN())));throw cj(a,d?.callee),a}return f.value},d8=async(a,b,c,d)=>{let e=c?Object.assign(c,{async:!0}):{async:!0},f=a._zod.run({value:b,issues:[]},e);if(f instanceof Promise&&(f=await f),f.issues.length){let a=new(d?.Err??d6)(f.issues.map(a=>cv(a,e,bN())));throw cj(a,d?.callee),a}return f.value},d9=cT(d6),ea=cV(d6),eb=bK("ZodType",(a,b)=>(cY.init(a,b),a.def=b,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone({...b,checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),a.clone=(b,c)=>cp(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>d7(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>d9(a,b,c),a.parseAsync=async(b,c)=>d8(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>ea(a,b,c),a.spa=a.safeParseAsync,a.refine=(b,c)=>a.check(function(a,b={}){return new eZ({type:"custom",check:"custom",fn:a,...cq(b)})}(b,c)),a.superRefine=b=>a.check(function(a){let b=function(a,b){let c=new cy({check:"custom",...cq(void 0)});return c._zod.check=a,c}(c=>(c.addIssue=a=>{"string"==typeof a?c.issues.push(cx(a,c.value,b._zod.def)):(a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=c.value),a.inst??(a.inst=b),a.continue??(a.continue=!b._zod.def.abort),c.issues.push(cx(a)))},a(c.value,c)));return b}(b)),a.overwrite=b=>a.check(d0(b)),a.optional=()=>eP(a),a.nullable=()=>eR(a),a.nullish=()=>eP(eR(a)),a.nonoptional=b=>new eU({type:"nonoptional",innerType:a,...cq(b)}),a.array=()=>eH(a),a.or=b=>new eK({type:"union",options:[a,b],...cq(void 0)}),a.and=b=>new eL({type:"intersection",left:a,right:b}),a.transform=b=>eX(a,new eN({type:"transform",transform:b})),a.default=b=>(function(a,b){return new eS({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})})(a,b),a.prefault=b=>(function(a,b){return new eT({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():b}})})(a,b),a.catch=b=>(function(a,b){return new eV({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})})(a,b),a.pipe=b=>eX(a,b),a.readonly=()=>new eY({type:"readonly",innerType:a}),a.describe=b=>{let c=a.clone();return dS.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>dS.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return dS.get(a);let c=a.clone();return dS.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),ec=bK("_ZodString",(a,b)=>{cZ.init(a,b),eb.init(a,b);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(function(a,b){return new cI({check:"string_format",format:"regex",...cq(b),pattern:a})}(...b)),a.includes=(...b)=>a.check(function(a,b){return new cL({check:"string_format",format:"includes",...cq(b),includes:a})}(...b)),a.startsWith=(...b)=>a.check(function(a,b){return new cM({check:"string_format",format:"starts_with",...cq(b),prefix:a})}(...b)),a.endsWith=(...b)=>a.check(function(a,b){return new cN({check:"string_format",format:"ends_with",...cq(b),suffix:a})}(...b)),a.min=(...b)=>a.check(d$(...b)),a.max=(...b)=>a.check(dZ(...b)),a.length=(...b)=>a.check(d_(...b)),a.nonempty=(...b)=>a.check(d$(1,...b)),a.lowercase=b=>a.check(new cJ({check:"string_format",format:"lowercase",...cq(b)})),a.uppercase=b=>a.check(new cK({check:"string_format",format:"uppercase",...cq(b)})),a.trim=()=>a.check(d0(a=>a.trim())),a.normalize=(...b)=>a.check(function(a){return d0(b=>b.normalize(a))}(...b)),a.toLowerCase=()=>a.check(d0(a=>a.toLowerCase())),a.toUpperCase=()=>a.check(d0(a=>a.toUpperCase()))}),ed=bK("ZodString",(a,b)=>{cZ.init(a,b),ec.init(a,b),a.email=b=>a.check(new eg({type:"string",format:"email",check:"string_format",abort:!1,...cq(b)})),a.url=b=>a.check(new ej({type:"string",format:"url",check:"string_format",abort:!1,...cq(b)})),a.jwt=b=>a.check(new ey({type:"string",format:"jwt",check:"string_format",abort:!1,...cq(b)})),a.emoji=b=>a.check(new ek({type:"string",format:"emoji",check:"string_format",abort:!1,...cq(b)})),a.guid=b=>a.check(dT(eh,b)),a.uuid=b=>a.check(new ei({type:"string",format:"uuid",check:"string_format",abort:!1,...cq(b)})),a.uuidv4=b=>a.check(new ei({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...cq(b)})),a.uuidv6=b=>a.check(new ei({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...cq(b)})),a.uuidv7=b=>a.check(new ei({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...cq(b)})),a.nanoid=b=>a.check(new el({type:"string",format:"nanoid",check:"string_format",abort:!1,...cq(b)})),a.guid=b=>a.check(dT(eh,b)),a.cuid=b=>a.check(new em({type:"string",format:"cuid",check:"string_format",abort:!1,...cq(b)})),a.cuid2=b=>a.check(new en({type:"string",format:"cuid2",check:"string_format",abort:!1,...cq(b)})),a.ulid=b=>a.check(new eo({type:"string",format:"ulid",check:"string_format",abort:!1,...cq(b)})),a.base64=b=>a.check(new ev({type:"string",format:"base64",check:"string_format",abort:!1,...cq(b)})),a.base64url=b=>a.check(new ew({type:"string",format:"base64url",check:"string_format",abort:!1,...cq(b)})),a.xid=b=>a.check(new ep({type:"string",format:"xid",check:"string_format",abort:!1,...cq(b)})),a.ksuid=b=>a.check(new eq({type:"string",format:"ksuid",check:"string_format",abort:!1,...cq(b)})),a.ipv4=b=>a.check(new er({type:"string",format:"ipv4",check:"string_format",abort:!1,...cq(b)})),a.ipv6=b=>a.check(new es({type:"string",format:"ipv6",check:"string_format",abort:!1,...cq(b)})),a.cidrv4=b=>a.check(new et({type:"string",format:"cidrv4",check:"string_format",abort:!1,...cq(b)})),a.cidrv6=b=>a.check(new eu({type:"string",format:"cidrv6",check:"string_format",abort:!1,...cq(b)})),a.e164=b=>a.check(new ex({type:"string",format:"e164",check:"string_format",abort:!1,...cq(b)})),a.datetime=b=>a.check(new d1({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...cq(b)})),a.date=b=>a.check(new d2({type:"string",format:"date",check:"string_format",...cq(b)})),a.time=b=>a.check(new d3({type:"string",format:"time",check:"string_format",precision:null,...cq(b)})),a.duration=b=>a.check(new d4({type:"string",format:"duration",check:"string_format",...cq(b)}))});function ee(a){return new ed({type:"string",...cq(a)})}let ef=bK("ZodStringFormat",(a,b)=>{c$.init(a,b),ec.init(a,b)}),eg=bK("ZodEmail",(a,b)=>{c1.init(a,b),ef.init(a,b)}),eh=bK("ZodGUID",(a,b)=>{c_.init(a,b),ef.init(a,b)}),ei=bK("ZodUUID",(a,b)=>{c0.init(a,b),ef.init(a,b)}),ej=bK("ZodURL",(a,b)=>{c2.init(a,b),ef.init(a,b)}),ek=bK("ZodEmoji",(a,b)=>{c3.init(a,b),ef.init(a,b)}),el=bK("ZodNanoID",(a,b)=>{c4.init(a,b),ef.init(a,b)}),em=bK("ZodCUID",(a,b)=>{c5.init(a,b),ef.init(a,b)}),en=bK("ZodCUID2",(a,b)=>{c6.init(a,b),ef.init(a,b)}),eo=bK("ZodULID",(a,b)=>{c7.init(a,b),ef.init(a,b)}),ep=bK("ZodXID",(a,b)=>{c8.init(a,b),ef.init(a,b)}),eq=bK("ZodKSUID",(a,b)=>{c9.init(a,b),ef.init(a,b)}),er=bK("ZodIPv4",(a,b)=>{de.init(a,b),ef.init(a,b)}),es=bK("ZodIPv6",(a,b)=>{df.init(a,b),ef.init(a,b)}),et=bK("ZodCIDRv4",(a,b)=>{dg.init(a,b),ef.init(a,b)}),eu=bK("ZodCIDRv6",(a,b)=>{dh.init(a,b),ef.init(a,b)}),ev=bK("ZodBase64",(a,b)=>{dj.init(a,b),ef.init(a,b)}),ew=bK("ZodBase64URL",(a,b)=>{dk.init(a,b),ef.init(a,b)}),ex=bK("ZodE164",(a,b)=>{dl.init(a,b),ef.init(a,b)}),ey=bK("ZodJWT",(a,b)=>{dm.init(a,b),ef.init(a,b)}),ez=bK("ZodNumber",(a,b)=>{dn.init(a,b),eb.init(a,b),a.gt=(b,c)=>a.check(dW(b,c)),a.gte=(b,c)=>a.check(dX(b,c)),a.min=(b,c)=>a.check(dX(b,c)),a.lt=(b,c)=>a.check(dU(b,c)),a.lte=(b,c)=>a.check(dV(b,c)),a.max=(b,c)=>a.check(dV(b,c)),a.int=b=>a.check(eC(b)),a.safe=b=>a.check(eC(b)),a.positive=b=>a.check(dW(0,b)),a.nonnegative=b=>a.check(dX(0,b)),a.negative=b=>a.check(dU(0,b)),a.nonpositive=b=>a.check(dV(0,b)),a.multipleOf=(b,c)=>a.check(dY(b,c)),a.step=(b,c)=>a.check(dY(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function eA(a){return new ez({type:"number",checks:[],...cq(a)})}let eB=bK("ZodNumberFormat",(a,b)=>{dp.init(a,b),ez.init(a,b)});function eC(a){return new eB({type:"number",check:"number_format",abort:!1,format:"safeint",...cq(a)})}let eD=bK("ZodUnknown",(a,b)=>{dq.init(a,b),eb.init(a,b)});function eE(){return new eD({type:"unknown"})}let eF=bK("ZodNever",(a,b)=>{dr.init(a,b),eb.init(a,b)}),eG=bK("ZodArray",(a,b)=>{dt.init(a,b),eb.init(a,b),a.element=b.element,a.min=(b,c)=>a.check(d$(b,c)),a.nonempty=b=>a.check(d$(1,b)),a.max=(b,c)=>a.check(dZ(b,c)),a.length=(b,c)=>a.check(d_(b,c)),a.unwrap=()=>a.element});function eH(a,b){return new eG({type:"array",element:a,...cq(b)})}let eI=bK("ZodObject",(a,b)=>{dv.init(a,b),eb.init(a,b),cf(a,"shape",()=>b.shape),a.keyof=()=>(function(a,b){return new eM({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...cq(void 0)})})(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:eE()}),a.loose=()=>a.clone({...a._zod.def,catchall:eE()}),a.strict=()=>a.clone({...a._zod.def,catchall:new eF({type:"never",...cq(void 0)})}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>(function(a,b){if(!cm(b))throw Error("Invalid input to extend: expected a plain object");let c=ch(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return cg(this,"shape",c),c},checks:[]});return cp(a,c)})(a,b),a.merge=b=>(function(a,b){let c=ch(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return cg(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]});return cp(a,c)})(a,b),a.pick=b=>(function(a,b){let c=a._zod.def,d=ch(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return cg(this,"shape",a),a},checks:[]});return cp(a,d)})(a,b),a.omit=b=>(function(a,b){let c=a._zod.def,d=ch(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return cg(this,"shape",d),d},checks:[]});return cp(a,d)})(a,b),a.partial=(...b)=>(function(a,b,c){let d=ch(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return cg(this,"shape",e),e},checks:[]});return cp(b,d)})(eO,a,b[0]),a.required=(...b)=>(function(a,b,c){let d=ch(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return cg(this,"shape",e),e},checks:[]});return cp(b,d)})(eU,a,b[0])});function eJ(a,b){return new eI({type:"object",get shape(){return cg(this,"shape",a?Object.create(Object.getPrototypeOf(a),Object.getOwnPropertyDescriptors(a)):{}),this.shape},...cq(b)})}let eK=bK("ZodUnion",(a,b)=>{dx.init(a,b),eb.init(a,b),a.options=b.options}),eL=bK("ZodIntersection",(a,b)=>{dy.init(a,b),eb.init(a,b)}),eM=bK("ZodEnum",(a,b)=>{dA.init(a,b),eb.init(a,b),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new eM({...b,checks:[],...cq(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new eM({...b,checks:[],...cq(d),entries:e})}}),eN=bK("ZodTransform",(a,b)=>{dB.init(a,b),eb.init(a,b),a._zod.parse=(c,d)=>{c.addIssue=d=>{"string"==typeof d?c.issues.push(cx(d,c.value,b)):(d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=a),c.issues.push(cx(d)))};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}}),eO=bK("ZodOptional",(a,b)=>{dD.init(a,b),eb.init(a,b),a.unwrap=()=>a._zod.def.innerType});function eP(a){return new eO({type:"optional",innerType:a})}let eQ=bK("ZodNullable",(a,b)=>{dE.init(a,b),eb.init(a,b),a.unwrap=()=>a._zod.def.innerType});function eR(a){return new eQ({type:"nullable",innerType:a})}let eS=bK("ZodDefault",(a,b)=>{dF.init(a,b),eb.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap}),eT=bK("ZodPrefault",(a,b)=>{dH.init(a,b),eb.init(a,b),a.unwrap=()=>a._zod.def.innerType}),eU=bK("ZodNonOptional",(a,b)=>{dI.init(a,b),eb.init(a,b),a.unwrap=()=>a._zod.def.innerType}),eV=bK("ZodCatch",(a,b)=>{dK.init(a,b),eb.init(a,b),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap}),eW=bK("ZodPipe",(a,b)=>{dL.init(a,b),eb.init(a,b),a.in=b.in,a.out=b.out});function eX(a,b){return new eW({type:"pipe",in:a,out:b})}let eY=bK("ZodReadonly",(a,b)=>{dN.init(a,b),eb.init(a,b),a.unwrap=()=>a._zod.def.innerType}),eZ=bK("ZodCustom",(a,b)=>{dP.init(a,b),eb.init(a,b)}),e$=eJ({message_id:ee(),role:ee(),content:ee(),status:ee().nullable().optional(),created_at:ee().nullable().optional(),completed_at:ee().nullable().optional()}),e_=eJ({session:eJ({session_id:ee(),created_at:ee(),updated_at:ee()}),messages:eH(e$)}),e0=process.env.TRACE_API_URL;eJ({session_id:ee().optional().nullable(),created_at:ee().optional().nullable(),updated_at:ee().optional().nullable()}),eJ({message_id:ee(),role:ee(),content:ee(),status:ee(),created_at:ee(),completed_at:ee(),event:ee().optional(),session_id:ee().optional(),ts:eA().optional()});let e1=eJ({event:ee().optional().nullable(),inputs:eE().optional().nullable(),name:eH(ee()).optional().nullable(),session_id:ee().optional().nullable(),ts:eA().optional().nullable(),params:eE().optional().nullable(),prompts:eE().optional().nullable(),output:eE().optional().nullable(),input:eE().optional().nullable(),tool:ee().optional().nullable(),outputs:eE().optional().nullable()}),e2=eJ({message_id:ee(),session_id:ee()}),e3=eJ({completed_at:ee().nullable(),content:ee(),created_at:ee(),message_id:ee(),role:ee(),session_id:ee(),status:ee()}),e4=eJ({message:e3,traces:eH(e1)}),e5=eJ({session:eE(),traces:eH(e1)}),e6=bI({traceToFlow:bJ.input(eJ({session_id:ee()})).query(async({input:a})=>{if(!e0)throw console.error("TRACE_API_URL is not set in environment variables"),Error("TRACE_API_URL is not set in environment variables");let b=`${e0}/sessions/${a.session_id}/traces`;console.log("[traceToFlow] Fetching:",b);let c=await fetch(b);if(!c.ok)throw console.error("[traceToFlow] Failed to fetch session:",c.status,c.statusText),Error("Failed to fetch session");let d=await c.json();return console.log("[traceToFlow] Response:",d),e5.parse(d)}),chatReplay:bJ.input(eJ({history:eH(eE()),traces:eH(eE()),user_prompt:ee().optional().nullable()})).mutation(async({input:a})=>{if(!e0)throw Error("TRACE_API_URL is not set in environment variables");let b=`${e0}/chat/replay`,c=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!c.ok){let a=await c.text();throw Error(`Failed to replay chat: ${c.status} ${c.statusText} - ${a}`)}return await c.json()}),chatHistory:bJ.input(eJ({session_id:ee()})).query(async({input:a})=>{let b=`${process.env.TRACE_API_URL||""}/sessions/${a.session_id}`,c=await fetch(b);if(!c.ok)throw Error(`Failed to fetch chat history: ${c.status} ${c.statusText}`);let d=await c.json();return e_.parse(d)}),chainToFlow:bJ.input(eJ({message_id:ee()})).query(async({input:a})=>{if(console.log("[chainToFlow] Endpoint HIT with message_id:",a.message_id),!e0)throw console.error("TRACE_API_URL is not set in environment variables"),Error("TRACE_API_URL is not set in environment variables");let b=`${e0}/messages/${a.message_id}/traces`;console.log("[chainToFlow] Fetching:",b);let c=await fetch(b,{method:"GET"});if(!c.ok)throw console.error("[chainToFlow] Failed to fetch message traces:",c.status,c.statusText),Error("Failed to fetch message traces");let d=await c.json();return console.log("[chainToFlow] Response:",d),e4.parse(d)}),chatNew:bJ.input(eJ({prompt:ee(),messages:ee(),session_id:ee().optional()})).mutation(async({input:a})=>{if(!e0)throw console.error("TRACE_API_URL is not set in environment variables"),Error("TRACE_API_URL is not set in environment variables");let b=`${e0}/chat/new`,c={prompt:a.prompt};a.session_id&&(c.session_id=a.session_id),console.log("[chatNew] POST:",b,"Body:",c);let d=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw console.error("[chatNew] Failed to create chat session:",d.status,d.statusText),Error("Failed to create chat session");let e=await d.json();console.log("[chatNew] Response:",e);let{message_id:f,session_id:g}=e2.parse(e);return{message_id:f,session_id:g}})}),e7=bI({python:e6}),e8=a=>bq({endpoint:"/api/trpc",req:a,router:e7,createContext:()=>({})}),e9=new k.AppRouteRouteModule({definition:{kind:l.RouteKind.APP_ROUTE,page:"/api/trpc/[trpc]/route",pathname:"/api/trpc/[trpc]",filename:"route",bundlePath:"app/api/trpc/[trpc]/route"},distDir:".next",projectDir:"",resolvedPagePath:"C:\\Users\\jplk2\\Documents\\GitHub\\hack-nation-ui\\app\\api\\trpc\\[trpc]\\route.ts",nextConfigOutput:"",userland:j}),{workAsyncStorage:fa,workUnitAsyncStorage:fb,serverHooks:fc}=e9;function fd(){return(0,m.patchFetch)({workAsyncStorage:fa,workUnitAsyncStorage:fb})}async function fe(a,b,c){var d;let e="/api/trpc/[trpc]/route";"/index"===e&&(e="/");let f=await e9.prepare(a,b,{srcPage:e,multiZoneDraftMode:"false"});if(!f)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:g,params:h,nextConfig:i,isDraftMode:j,prerenderManifest:k,routerServerContext:m,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,resolvedPathname:C}=f,D=(0,p.normalizeAppPath)(e),E=!!(k.dynamicRoutes[D]||k.routes[C]);if(E&&!j){let a=!!k.routes[C],b=k.dynamicRoutes[D];if(b&&!1===b.fallback&&!a)throw new y.NoFallbackError}let F=null;!E||e9.isDev||j||(F="/index"===(F=C)?"/":F);let G=!0===e9.isDev||!E,H=E&&!G,I=a.method||"GET",J=(0,o.getTracer)(),K=J.getActiveScopeSpan(),L={params:h,prerenderManifest:k,renderOpts:{experimental:{dynamicIO:!!i.experimental.dynamicIO,authInterrupts:!!i.experimental.authInterrupts},supportsDynamicResponse:G,incrementalCache:(0,n.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=i.experimental)?void 0:d.cacheLife,isRevalidate:H,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>e9.onRequestError(a,b,d,m)},sharedContext:{buildId:g}},M=new q.NodeNextRequest(a),N=new q.NodeNextResponse(b),O=r.NextRequestAdapter.fromNodeNextRequest(M,(0,r.signalFromNodeResponse)(b));try{let d=async c=>e9.handle(O,L).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=J.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==s.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${I} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${I} ${a.url}`)}),f=async f=>{var g,h;let o=async({previousCacheEntry:g})=>{try{if(!(0,n.getRequestMeta)(a,"minimalMode")&&A&&B&&!g)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(f);a.fetchMetrics=L.renderOpts.fetchMetrics;let h=L.renderOpts.pendingWaitUntil;h&&c.waitUntil&&(c.waitUntil(h),h=void 0);let i=L.renderOpts.collectedTags;if(!E)return await (0,u.I)(M,N,e,L.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,v.toNodeOutgoingHttpHeaders)(e.headers);i&&(b[x.NEXT_CACHE_TAGS_HEADER]=i),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==L.renderOpts.collectedRevalidate&&!(L.renderOpts.collectedRevalidate>=x.INFINITE_CACHE)&&L.renderOpts.collectedRevalidate,d=void 0===L.renderOpts.collectedExpire||L.renderOpts.collectedExpire>=x.INFINITE_CACHE?void 0:L.renderOpts.collectedExpire;return{value:{kind:z.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==g?void 0:g.isStale)&&await e9.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,t.c)({isRevalidate:H,isOnDemandRevalidate:A})},m),b}},p=await e9.handleResponse({req:a,nextConfig:i,cacheKey:F,routeKind:l.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:k,isRoutePPREnabled:!1,isOnDemandRevalidate:A,revalidateOnlyGenerated:B,responseGenerator:o,waitUntil:c.waitUntil});if(!E)return null;if((null==p||null==(g=p.value)?void 0:g.kind)!==z.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==p||null==(h=p.value)?void 0:h.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,n.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",A?"REVALIDATED":p.isMiss?"MISS":p.isStale?"STALE":"HIT"),j&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let q=(0,v.fromNodeOutgoingHttpHeaders)(p.value.headers);return(0,n.getRequestMeta)(a,"minimalMode")&&E||q.delete(x.NEXT_CACHE_TAGS_HEADER),!p.cacheControl||b.getHeader("Cache-Control")||q.get("Cache-Control")||q.set("Cache-Control",(0,w.getCacheControlHeader)(p.cacheControl)),await (0,u.I)(M,N,new Response(p.value.body,{headers:q,status:p.value.status||200})),null};K?await f(K):await J.withPropagatedContext(a.headers,()=>J.trace(s.BaseServerSpan.handleRequest,{spanName:`${I} ${a.url}`,kind:o.SpanKind.SERVER,attributes:{"http.method":I,"http.target":a.url}},f))}catch(b){if(K||b instanceof y.NoFallbackError||await e9.onRequestError(a,b,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,t.c)({isRevalidate:H,isOnDemandRevalidate:A})}),E)throw b;return await (0,u.I)(M,N,new Response(null,{status:500})),null}}},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66946:(a,b,c)=>{"use strict";Object.defineProperty(b,"I",{enumerable:!0,get:function(){return g}});let d=c(30898),e=c(42471),f=c(47912);async function g(a,b,c,g){if((0,d.isNodeNextResponse)(b)){var h;b.statusCode=c.status,b.statusMessage=c.statusText;let d=["set-cookie","www-authenticate","proxy-authenticate","vary"];null==(h=c.headers)||h.forEach((a,c)=>{if("x-middleware-set-cookie"!==c.toLowerCase())if("set-cookie"===c.toLowerCase())for(let d of(0,f.splitCookiesString)(a))b.appendHeader(c,d);else{let e=void 0!==b.getHeader(c);(d.includes(c.toLowerCase())||!e)&&b.appendHeader(c,a)}});let{originalResponse:i}=b;c.body&&"HEAD"!==a.method?await (0,e.pipeToNodeResponse)(c.body,i,g):i.end()}}},78335:()=>{},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},96487:()=>{},96559:(a,b,c)=>{"use strict";a.exports=c(44870)}};var b=require("../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[431],()=>b(b.s=32373));module.exports=c})();